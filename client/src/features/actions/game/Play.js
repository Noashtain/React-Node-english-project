import React, { useEffect, useState } from "react";
import { Link, NavLink, useParams } from "react-router-dom";
import { Box, Typography, IconButton, Grid, Paper, MenuItem, TextField } from "@mui/material";
import { MdFlip, MdLanguage, MdQuestionAnswer } from "react-icons/md";
import { FaUserSecret } from "react-icons/fa";
import { ThemeProvider } from "@mui/material/styles";
import theme from "../../../theme";
import { useGetAllTestsMutation } from "../listWord/view/ListWordApiSlice";
import useAuth from "../../../hooks/useAuth";
import LOADING from "../../loadingAnimation/LoadingAnimation";

const Play = () => {
  const { _id } = useParams();
  
  const [selectedId, setSelectedId] = useState("");

 
  const [getAllTests, { error, data, isLoading }] = useGetAllTestsMutation();
  const { _id: user } = useAuth();
 
useEffect(()=>{
 console.log(selectedId,"id"); 
},[selectedId])

  useEffect(() => {
      getAllTests({ user });
    // if (data) {
    //   console.log(data, "data");
    //   if (data.data.length > 0) {
    //     setSelectedId(data.data[0].title); // הגדרת ערך ברירת מחדל שהוא הראשון ברשימה
    //   }
    // }
  }, []);

  const handleInputChange = (event) => {
    setSelectedId(event.target.value);
  };
 
if((error||isLoading||!data))return<LOADING/>
  return (
//     <ThemeProvider theme={theme}>
//       <Box sx={{display:"flex",justifyContent:'center',alignItems:'center'}}>
//                         {(!_id&&!selectedId)&&  <Typography variant="h6" sx={{ color: theme.palette.primary.main,alignItems:'center' }}>
//          בחר מבחן שעם המילים האילו אתה רוצה לשחק
//           </Typography>}
//           {(_id||selectedId)&&  <Typography variant="h6" sx={{ color: theme.palette.primary.main,alignItems:'center' }}>
//        כדי לשחק עם מילים של מבחן אחר הנך יכול לבחור מבחן אחר מתוך הרשימה
//           </Typography>}
//           </Box>
//         <Grid item xs={12} sm={6}>
//           <TextField
//             select
//             fullWidth
//             label="מבחן"
//             name="_id"
//             value={selectedId}
//             onChange={handleInputChange}
//           >
//             {data?.data?.map((test) => (
//               <MenuItem key={test._id} value={test._id}>
//                 {test.title}
//               </MenuItem>
//             ))}
//           </TextField>
//         </Grid>
      
//         <svg width="428" height="140" viewBox="0 0 428 140" fill="none" xmlns="http://www.w3.org/2000/svg">
// <path opacity="0.4" d="M92.1816 99.2129C90.0488 101.65 87.0781 104.037 83.2695 106.373C79.5117 108.658 74.7129 110.588 68.873 112.162C63.084 113.736 56.457 114.523 48.9922 114.523C39.2422 114.523 30.7109 112.416 23.3984 108.201C16.1367 103.986 10.5 97.8418 6.48828 89.7676C2.52734 81.6934 0.546875 72.0195 0.546875 60.7461V54.4238C0.546875 43.1504 2.50195 33.4766 6.41211 25.4023C10.3223 17.2773 15.8066 11.1074 22.8652 6.89258C29.9238 2.62695 38.0996 0.494141 47.3926 0.494141C61.5098 0.494141 72.1738 3.82031 79.3848 10.4727C86.5957 17.125 90.8359 26.291 92.1055 37.9707H68.2637C67.4004 32.1816 65.3945 27.8145 62.2461 24.8691C59.1484 21.873 54.4512 20.375 48.1543 20.375C40.9434 20.375 35.3828 23.2441 31.4727 28.9824C27.5625 34.7207 25.6074 43.1504 25.6074 54.2715V60.7461C25.6074 83.3438 33.9102 94.6426 50.5156 94.6426C58.1836 94.6426 63.8457 92.9922 67.502 89.6914V71.9434H47.7734V54.043H92.1816V99.2129ZM172.238 91.5957H133.543L126.611 113H100.256L141.312 2.09375H157.994H164.393L205.602 113H179.246L172.238 91.5957ZM165.764 71.6387L152.891 32.1055L140.094 71.6387H165.764ZM333.189 113H308.434V85.7305L310.871 32.0293L282.383 113H265.777L237.289 32.0293L239.727 85.7305V113H215.047V2.09375H235.918H247.42L274.08 80.2461L300.74 2.09375H333.189V113ZM376.607 22.0508V46.4258H419.568V65.6973H376.607V93.1191H427.186V113H368.305H351.852V2.09375H376.607H427.186V22.0508H376.607Z" fill="url(#paint0_radial_785_791)"/>
// <path d="M105.518 87.8428C105.518 85.6292 105.778 83.8226 106.299 82.4229C106.82 81.0231 107.747 79.7536 109.082 78.6143C110.368 77.54 111.32 76.5798 111.938 75.7334C112.557 74.8708 112.866 73.943 112.866 72.9502C112.866 70.4111 111.694 69.1416 109.351 69.1416C108.325 69.1416 107.463 69.4753 106.763 70.1426C106.063 70.8099 105.697 71.819 105.664 73.1699H98.0225C98.055 70.875 98.5596 68.9707 99.5361 67.457C100.529 65.9271 101.864 64.7959 103.54 64.0635C105.233 63.3311 107.17 62.9648 109.351 62.9648C111.678 62.9648 113.672 63.3392 115.332 64.0879C116.992 64.8203 118.262 65.9108 119.141 67.3594C120.036 68.7917 120.483 70.5413 120.483 72.6084C120.483 73.8617 120.256 74.9928 119.8 76.002C119.344 76.9948 118.758 77.8818 118.042 78.6631C117.342 79.4443 116.341 80.429 115.039 81.6172C114.941 81.7311 114.779 81.8857 114.551 82.0811C113.656 82.8786 113.029 83.7087 112.671 84.5713C112.329 85.4339 112.142 86.5244 112.109 87.8428H105.518ZM108.911 91.2852C109.741 91.2852 110.474 91.4642 111.108 91.8223C111.759 92.1641 112.264 92.6442 112.622 93.2627C112.98 93.8649 113.159 94.5404 113.159 95.2891C113.159 96.0378 112.98 96.7214 112.622 97.3398C112.264 97.9421 111.759 98.4222 111.108 98.7803C110.474 99.1221 109.741 99.293 108.911 99.293C108.081 99.293 107.34 99.1221 106.689 98.7803C106.055 98.4222 105.558 97.9421 105.2 97.3398C104.842 96.7214 104.663 96.0378 104.663 95.2891C104.663 94.5404 104.842 93.8649 105.2 93.2627C105.558 92.6442 106.055 92.1641 106.689 91.8223C107.34 91.4642 108.081 91.2852 108.911 91.2852ZM136.914 92.9697C138.932 92.8883 140.479 92.278 141.553 91.1387C142.627 89.9831 143.164 88.3066 143.164 86.1094V75.8311H126.221V69.6787H151.099V85.9629C151.099 88.681 150.537 90.9922 149.414 92.8965C148.291 94.8008 146.672 96.2656 144.556 97.291C142.44 98.3164 139.893 98.8861 136.914 99V92.9697ZM126.416 88.7949C126.416 87.0371 126.595 85.6699 126.953 84.6934C127.327 83.7168 127.743 82.9844 128.198 82.4961H134.521C134.229 83.8796 134.082 85.6943 134.082 87.9404V109.156H126.416V88.7949ZM159.058 69.6787H171.973C175.798 69.6787 178.695 70.6146 180.664 72.4863C182.633 74.3581 183.626 77.125 183.643 80.7871V99H175.732L175.684 80.1035C175.684 77.2552 174.447 75.8311 171.973 75.8311H166.968V99H159.033L159.058 69.6787ZM198.486 91.7734C199.854 92.3594 201.335 92.8314 202.93 93.1895C204.541 93.5475 206.022 93.7266 207.373 93.7266C210.905 93.7266 213.696 92.9779 215.747 91.4805C217.814 89.9831 218.848 87.7044 218.848 84.6445V69.6787H226.538V85.5479C226.538 88.6566 225.7 91.2933 224.023 93.458C222.363 95.6064 220.109 97.2178 217.261 98.292C214.429 99.3662 211.247 99.9033 207.715 99.9033C204.948 99.9033 202.091 99.5778 199.146 98.9268C196.216 98.2594 193.441 97.2992 190.82 96.0459V69.6787H198.486V91.7734ZM203.784 89.5518C204.061 88.9495 204.281 88.0706 204.443 86.915C204.606 85.7594 204.688 84.5143 204.688 83.1797V69.6787H212.378V81.4951C212.378 83.1553 212.183 84.7178 211.792 86.1826C211.401 87.6312 210.881 88.7542 210.229 89.5518H203.784ZM237.671 99.4883C236.727 99.4883 235.832 99.4313 234.985 99.3174C234.139 99.2197 233.138 99.0407 231.982 98.7803V92.8477C233.154 92.9941 234.342 93.0674 235.547 93.0674C236.654 93.0674 237.467 92.7663 237.988 92.1641C238.525 91.5618 238.794 90.6341 238.794 89.3809V75.8311H233.667V69.6787H246.729V90.0156C246.729 91.985 246.37 93.6859 245.654 95.1182C244.938 96.5342 243.896 97.6165 242.529 98.3652C241.178 99.1139 239.559 99.4883 237.671 99.4883ZM283.35 80.0059C283.35 77.2227 281.868 75.8311 278.906 75.8311H266.675V69.6787H279.492C281.966 69.6787 284.082 70.1019 285.84 70.9482C287.614 71.7783 288.965 72.999 289.893 74.6104C290.82 76.2054 291.284 78.126 291.284 80.3721V99H283.35V80.0059ZM266.577 88.9414C266.577 86.028 267.171 83.9284 268.359 82.6426H274.683C274.39 84.1074 274.243 85.9222 274.243 88.0869V99H266.577V88.9414ZM300.146 82.6914C300.293 81.3893 300.61 80.1442 301.099 78.9561C301.603 77.7516 302.189 76.8076 302.856 76.124C303.019 75.9613 303.133 75.8636 303.198 75.8311L303.174 75.709C302.539 75.8229 301.782 76.002 300.903 76.2461C300.041 76.4902 299.308 76.7344 298.706 76.9785L297.046 71.2412C298.918 70.5413 301.123 69.9798 303.662 69.5566C306.201 69.1335 308.618 68.9219 310.913 68.9219C315.422 68.9219 318.84 70.0693 321.167 72.3643C323.511 74.6429 324.691 78.012 324.707 82.4717V99H311.792V92.8477H316.748L316.724 81.3975C316.724 79.4932 316.349 78.0202 315.601 76.9785C314.852 75.9206 313.794 75.3916 312.427 75.3916C309.774 75.3916 308.244 77.4749 307.837 81.6416L306.128 99H298.291L300.146 82.6914Z" fill="#A82D7A"/>
// <path d="M75.5078 130.195C75.5156 129.453 75.582 128.844 75.707 128.367C75.832 127.891 76.0273 127.461 76.293 127.078C76.5664 126.695 76.9766 126.227 77.5234 125.672C77.5234 125.672 77.6445 125.551 77.8867 125.309C78.2852 124.902 78.5898 124.57 78.8008 124.312C79.0117 124.047 79.1875 123.742 79.3281 123.398C79.4688 123.055 79.5391 122.66 79.5391 122.215C79.5391 121.387 79.3203 120.742 78.8828 120.281C78.4531 119.812 77.8359 119.578 77.0312 119.578C76.5547 119.578 76.1172 119.664 75.7188 119.836C75.3203 120.008 75 120.273 74.7578 120.633C74.5156 120.984 74.3945 121.418 74.3945 121.934H72.2031C72.2109 121.074 72.4258 120.324 72.8477 119.684C73.2773 119.043 73.8555 118.555 74.582 118.219C75.3086 117.875 76.125 117.703 77.0312 117.703C78.0156 117.703 78.8594 117.883 79.5625 118.242C80.2656 118.602 80.8008 119.117 81.168 119.789C81.5352 120.453 81.7188 121.242 81.7188 122.156C81.7188 122.812 81.5859 123.434 81.3203 124.02C81.0547 124.605 80.7148 125.148 80.3008 125.648C79.8867 126.141 79.3828 126.668 78.7891 127.23C78.3828 127.598 78.0977 128.027 77.9336 128.52C77.7773 129.004 77.6992 129.562 77.6992 130.195H75.5078ZM76.7031 132.668C77.1094 132.668 77.4258 132.785 77.6523 133.02C77.8789 133.254 77.9922 133.551 77.9922 133.91C77.9922 134.27 77.8789 134.562 77.6523 134.789C77.4258 135.016 77.1094 135.129 76.7031 135.129C76.2969 135.129 75.9805 135.016 75.7539 134.789C75.5273 134.562 75.4141 134.27 75.4141 133.91C75.4141 133.551 75.5273 133.254 75.7539 133.02C75.9805 132.785 76.2969 132.668 76.7031 132.668ZM84.8008 121.195H95.8164V135H84.8008V121.195ZM93.6484 133.242V122.941H86.9688V133.242H93.6484ZM101.125 122.941H98.5938V121.195H103.305V128.895H101.125V122.941ZM113.008 125.367C113.008 124.617 112.785 124.027 112.34 123.598C111.902 123.16 111.301 122.941 110.535 122.941H105.895V121.195H110.605C111.551 121.195 112.367 121.367 113.055 121.711C113.742 122.055 114.266 122.551 114.625 123.199C114.992 123.848 115.176 124.625 115.176 125.531V135H113.008V125.367ZM119.113 121.195H124.305C126.133 121.195 127.496 121.633 128.395 122.508C129.293 123.375 129.746 124.699 129.754 126.48V135H127.586V126.352C127.586 125.156 127.328 124.289 126.812 123.75C126.297 123.211 125.469 122.941 124.328 122.941H121.281L121.27 135H119.102L119.113 121.195ZM134.336 122.941H132.73V121.195H136.516V135H134.336V122.941ZM150.695 133.336V135H139.352V133.242H146.852V126.34C146.852 125.145 146.582 124.281 146.043 123.75C145.512 123.211 144.645 122.941 143.441 122.941H140.102V121.195H143.559C145.363 121.195 146.723 121.633 147.637 122.508C148.559 123.383 149.02 124.68 149.02 126.398V133.16L150.695 133.336ZM159.355 121.195H170.371V135H159.355V121.195ZM168.203 133.242V122.941H161.523V133.242H168.203ZM180.262 121.195C182.09 121.195 183.453 121.633 184.352 122.508C185.258 123.375 185.711 124.699 185.711 126.48V135H183.543L183.531 126.352C183.531 125.156 183.273 124.289 182.758 123.75C182.25 123.211 181.426 122.941 180.285 122.941H178.328C178.07 123.363 177.863 123.906 177.707 124.57C177.559 125.227 177.484 125.902 177.484 126.598V131.25C177.484 132.516 177.184 133.477 176.582 134.133C175.98 134.789 175.105 135.117 173.957 135.117C173.621 135.117 173.172 135.082 172.609 135.012V133.266C172.859 133.297 173.129 133.312 173.418 133.312C174.098 133.312 174.59 133.137 174.895 132.785C175.207 132.434 175.363 131.879 175.363 131.121V126.762C175.363 126.051 175.457 125.344 175.645 124.641C175.832 123.93 176.09 123.363 176.418 122.941H173.828V121.195H180.262ZM197.348 128.965L201.719 135H199.293L193.141 126.516C192.305 127.039 191.887 127.938 191.887 129.211V135H189.777V129.996C189.777 128.801 189.98 127.824 190.387 127.066C190.793 126.301 191.422 125.723 192.273 125.332L189.285 121.195H191.723L196 127.102L199.328 121.195H201.777L197.348 128.965ZM215.617 133.289C216.391 133.266 217.066 133.094 217.645 132.773C218.223 132.453 218.672 132.004 218.992 131.426C219.312 130.84 219.473 130.148 219.473 129.352V122.941H210.953V121.195H221.652V129.305C221.652 130.453 221.402 131.453 220.902 132.305C220.41 133.148 219.707 133.805 218.793 134.273C217.887 134.734 216.828 134.977 215.617 135V133.289ZM211.223 129.82C211.223 129.117 211.273 128.562 211.375 128.156C211.484 127.75 211.637 127.34 211.832 126.926H213.613C213.512 127.277 213.438 127.668 213.391 128.098C213.352 128.527 213.332 129.059 213.332 129.691V139.875H211.223V129.82ZM225.918 121.195H231.109C232.938 121.195 234.301 121.633 235.199 122.508C236.098 123.375 236.551 124.699 236.559 126.48V135H234.391V126.352C234.391 125.156 234.133 124.289 233.617 123.75C233.102 123.211 232.273 122.941 231.133 122.941H228.086L228.074 135H225.906L225.918 121.195ZM242.594 132.551C243.344 132.871 244.133 133.121 244.961 133.301C245.789 133.48 246.578 133.57 247.328 133.57C248.453 133.57 249.457 133.41 250.34 133.09C251.223 132.762 251.918 132.27 252.426 131.613C252.934 130.949 253.188 130.133 253.188 129.164V121.195H255.297V129.363C255.297 130.66 254.945 131.758 254.242 132.656C253.547 133.547 252.605 134.215 251.418 134.66C250.23 135.105 248.902 135.328 247.434 135.328C246.293 135.328 245.121 135.195 243.918 134.93C242.715 134.656 241.57 134.258 240.484 133.734V121.195H242.594V132.551ZM245.91 131.191C246.199 130.887 246.418 130.469 246.566 129.938C246.715 129.398 246.789 128.773 246.789 128.062V121.195H248.91V127.676C248.91 128.473 248.812 129.168 248.617 129.762C248.422 130.348 248.121 130.848 247.715 131.262L245.91 131.191ZM260.477 126.223C260.555 125.582 260.734 124.98 261.016 124.418C261.305 123.848 261.641 123.41 262.023 123.105C262.055 123.082 262.133 123.027 262.258 122.941L262.234 122.906C261.883 122.969 261.441 123.07 260.91 123.211C260.387 123.344 259.906 123.484 259.469 123.633L258.965 121.992C259.871 121.68 260.887 121.426 262.012 121.23C263.137 121.035 264.172 120.938 265.117 120.938C266.977 120.938 268.395 121.434 269.371 122.426C270.355 123.41 270.852 124.859 270.859 126.773V135H265.176V133.254H268.691V126.527C268.691 125.301 268.414 124.367 267.859 123.727C267.305 123.086 266.5 122.766 265.445 122.766C264.688 122.766 264.055 123.059 263.547 123.645C263.039 124.223 262.727 125.012 262.609 126.012L261.566 135H259.422L260.477 126.223ZM288.754 126.34C288.754 125.145 288.484 124.281 287.945 123.75C287.406 123.211 286.539 122.941 285.344 122.941H280.34V121.195H285.449C287.254 121.195 288.617 121.633 289.539 122.508C290.469 123.383 290.934 124.68 290.934 126.398V135H288.754V126.34ZM280.363 130.289C280.363 129.578 280.414 129.02 280.516 128.613C280.625 128.199 280.777 127.785 280.973 127.371H282.754C282.66 127.73 282.59 128.129 282.543 128.566C282.496 129.004 282.473 129.531 282.473 130.148V135H280.363V130.289ZM294.578 123.035L293.605 122.871V121.195H300.309L300.297 122.941H296.734L298.691 135H296.453L294.578 123.035ZM304.375 122.941H301.844V121.195H306.555V128.895H304.375V122.941ZM318.285 128.965L322.656 135H320.23L314.078 126.516C313.242 127.039 312.824 127.938 312.824 129.211V135H310.715V129.996C310.715 128.801 310.918 127.824 311.324 127.066C311.73 126.301 312.359 125.723 313.211 125.332L310.223 121.195H312.66L316.938 127.102L320.266 121.195H322.715L318.285 128.965ZM331.656 123.035L330.684 122.871V121.195H337.387L337.375 122.941H333.812L335.77 135H333.531L331.656 123.035ZM348.121 128.965L352.492 135H350.066L343.914 126.516C343.078 127.039 342.66 127.938 342.66 129.211V135H340.551V129.996C340.551 128.801 340.754 127.824 341.16 127.066C341.566 126.301 342.195 125.723 343.047 125.332L340.059 121.195H342.496L346.773 127.102L350.102 121.195H352.551L348.121 128.965Z" fill="#2D40A8"/>
// <defs>
// <radialGradient id="paint0_radial_785_791" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-468 -20.015) rotate(5.00127) scale(1365.2 237.581)">
// <stop stop-color="#F3A9D5"/>
// <stop offset="1" stop-color="#A82D7A"/>
// </radialGradient>
// </defs>
// </svg>

      
//        <div><NavLink></NavLink></div>
//                   <MdFlip />
//                 </IconButton>
//                 <Typography variant="h6">Memory Game</Typography>
//               </Paper>
//             </Grid>
//             <Grid item>
//               <Paper elevation={4} sx={{ padding: 2, textAlign: "center" }}>
//                 <IconButton
//                   component={Link}
//                   to={selectedId&&!_id ? `${selectedId}/multi-choice` :selectedId&&_id?`/dash/play/${selectedId}/multi-choice`: "multi-choice"}
//                   disabled={!_id&&!selectedId}


               
//                   sx={{
//                     fontSize: 60,
//                     "&:hover": {
//                       transform: "scale(1.1)",
//                       transition: "transform 0.3s ease-in-out",
//                     },
//                   }}
//                 >
//                   <MdLanguage />
//                 </IconButton>
//                 <Typography variant="h6">Multi-Choice</Typography>
//               </Paper>
//             </Grid>
//             <Grid item>
//               <Paper elevation={4} sx={{ padding: 2, textAlign: "center" }}>
//                 <IconButton
//                   component={Link}
//                   to={selectedId&&!_id ? `${selectedId}/wordgame` :selectedId&&_id?`/dash/play/${selectedId}/wordgame`: "wordgame"}
//                   disabled={!_id&&!selectedId}

//                   sx={{
//                     fontSize: 60,
//                     "&:hover": {
//                       transform: "scale(1.1)",
//                       transition: "transform 0.3s ease-in-out",
//                     },
//                   }}
//                 >
//                   <MdQuestionAnswer />
//                 </IconButton>
//                 <Typography variant="h6">Word Game</Typography>
//               </Paper>
//             </Grid>
//             <Grid item>
//               <Paper elevation={4} sx={{ padding: 2, textAlign: "center" }}>
//                 <IconButton
//                   component={Link}
//                   to={selectedId&&!_id ? `${selectedId}/hangman` :selectedId&&_id?`/dash/play/${selectedId}/hangman`: "hangman"}
//                   disabled={!_id&&!selectedId}


//                   sx={{
//                     fontSize: 60,
//                     "&:hover": {
//                       transform: "scale(1.1)",
//                       transition: "transform 0.3s ease-in-out",
//                     },
//                   }}
//                 >
//                   <FaUserSecret />
//                 </IconButton>
//                 <Typography variant="h6">Hangman</Typography>
//               </Paper>
//             </Grid>
//           </Grid>
//         </Box>
      
//     </ThemeProvider>
<h1></h1>
  );
};

export default Play;
